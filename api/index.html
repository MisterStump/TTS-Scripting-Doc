



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.2">
    
    
      
        <title>API - Tabletop Simulator Scripting Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.9b572555.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../css/base.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="orange" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#classes" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Tabletop Simulator Scripting Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Tabletop Simulator Scripting Documentation
              </span>
              <span class="md-header-nav__topic">
                API
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href=".." title="Getting Started" class="md-tabs__link">
          Getting Started
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../luaapi/" title="Lua API" class="md-tabs__link md-tabs__link--active">
          Lua API
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Tabletop Simulator Scripting Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../atom/" title="Atom" class="md-nav__link">
      Atom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../externaleditorapi/" title="External Editor API" class="md-nav__link">
      External Editor API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Lua API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Lua API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../luaapi/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assetbundle/" title="AssetBundle" class="md-nav__link">
      AssetBundle
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        API
      </label>
    
    <a href="./" title="API" class="md-nav__link md-nav__link--active">
      API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#classes" title="Classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classes_1" title="Classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-classes" title="Static Classes" class="md-nav__link">
    Static Classes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-summary" title="Function Summary" class="md-nav__link">
    Function Summary
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-events" title="Default Events" class="md-nav__link">
    Default Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-details" title="Function Details" class="md-nav__link">
    Function Details
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onchat" title="onChat(...)" class="md-nav__link">
    onChat(...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oncollisionenter" title="onCollisionEnter(...)" class="md-nav__link">
    onCollisionEnter(...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oncollisionexit" title="onCollisionExit(...)" class="md-nav__link">
    onCollisionExit(...)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#classes" title="Classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classes_1" title="Classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-classes" title="Static Classes" class="md-nav__link">
    Static Classes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-summary" title="Function Summary" class="md-nav__link">
    Function Summary
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-events" title="Default Events" class="md-nav__link">
    Default Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-details" title="Function Details" class="md-nav__link">
    Function Details
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onchat" title="onChat(...)" class="md-nav__link">
    onChat(...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oncollisionenter" title="onCollisionEnter(...)" class="md-nav__link">
    onCollisionEnter(...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oncollisionexit" title="onCollisionExit(...)" class="md-nav__link">
    onCollisionExit(...)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>API</h1>
                
                <p>The API is consistent for Global or <a href="../object">Object</a> scripts, but <a href="../object">Object</a> scripts have access to <code class="codehilite">self</code> which is the Object the script is attached to. An introduction can be found <a href="../index">here</a>.</p>
<h2 id="classes">Classes<a class="headerlink" href="#classes" title="Permanent link">&para;</a></h2>
<p>Tabletop Simulator contains classes. Classes, generally speaking, are collections of functions which interact with specific functionality of certain elements in-game. Links to all of the classes are also available on the left.</p>
<h3 id="classes_1">Classes<a class="headerlink" href="#classes_1" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="../clock">Clock</a></li>
<li><a href="../counter">Counter</a></li>
<li><a href="../object">Object</a></li>
<li><a href="../assetbundle">AssetBundle</a></li>
<li><a href="../rpgfigurine">RPGFigurine</a></li>
<li><a href="../texttool">TextTool</a></li>
</ul>
<h3 id="static-classes">Static Classes<a class="headerlink" href="#static-classes" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="../json">JSON</a></li>
<li><a href="../player">Player</a></li>
<li><a href="../timer">Timer</a></li>
<li><a href="../webrequest">WebRequest</a></li>
<li><a href="../physics">Physics</a></li>
<li><a href="../lighting">Lighting</a></li>
</ul>
<h2 id="function-summary">Function Summary<a class="headerlink" href="#function-summary" title="Permanent link">&para;</a></h2>
<h3 id="default-events">Default Events<a class="headerlink" href="#default-events" title="Permanent link">&para;</a></h3>
<p>These are functions which are triggered by an event taking place in-game.</p>
<table>
<thead>
<tr>
<th>Function Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>onChat(string message, player)</td>
<td><a href="#onchat">This function is called, if it exists in your script, when a player chats. <code class="codehilite">return false</code> in this event to block the message.</a></td>
</tr>
<tr>
<td>onCollisionEnter(table collision_info)</td>
<td><a href="#oncollisionenter">This function is called, if it exists in your script, when this object collides with another object. The Global script does not have this event since it is not an object which can collide with other objects.</a></td>
</tr>
<tr>
<td>onCollisionExit(table collision_info)</td>
<td><a href="#oncollisionexit">This function is called, if it exists in your script, when this object stops touching another object. The Global Script does not have this event since it does not have a physical representation that can collide.</a></td>
</tr>
</tbody>
</table>
<h2 id="function-details">Function Details<a class="headerlink" href="#function-details" title="Permanent link">&para;</a></h2>
<h3 id="onchat">onChat(...)<a class="headerlink" href="#onchat" title="Permanent link">&para;</a></h3>
<p>This function is called, if it exists in your script, when a player chats. <code class="codehilite">return false</code> in this event to block the message.</p>
<div class="codehilite"><pre><span></span>    <span class="kr">function</span> <span class="nf">onChat</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">player</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">color</span><span class="p">)</span>
    <span class="kr">end</span>
</pre></div>

<hr />
<h3 id="oncollisionenter">onCollisionEnter(...)<a class="headerlink" href="#oncollisionenter" title="Permanent link">&para;</a></h3>
<p>onCollisionEnter(table collision_info) | This function is called, if it exists in your script, when this <a href="../object">object</a> collides with another object. The Global script does not have this event since it is not an object which can collide with other objects.</p>
<div class="admonition warning">
<p class="admonition-title">onCollisionEnter(table collision_info)</p>
<ul>
<li><strong>table collision_info</strong>: A table containing data on colliding object.<ul>
<li><strong>collision_info.<em>collision_object</em></strong> = <a href="../object">object</a> collision_object</li>
<li><strong>collision_info.<em>contact_points</em></strong> = table contact_points <span class="critic comment">This is an array (table) of tables. Each contact point is a vector.</span></li>
<li><strong>collision_info.<em>relative_velocity</em></strong> = <a href="../vector">vector</a></li>
</ul>
</li>
</ul>
</div>
<p><div class="codehilite"><pre><span></span>    <span class="c1">--Example Usage</span>
    <span class="kr">function</span> <span class="nf">onCollisionEnter</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">collision_object</span><span class="p">)</span>
    <span class="kr">end</span>
</pre></div>
<div class="codehilite"><pre><span></span>    <span class="c1">--Example returned table</span>
    <span class="p">{</span>
        <span class="p">{</span>
            <span class="n">collision_object</span> <span class="o">=</span> <span class="n">objectReference</span>
            <span class="n">contact_points</span> <span class="o">=</span> <span class="p">{</span>
                <span class="p">{</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">},</span>
            <span class="p">}</span>
            <span class="n">relative_velocity</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div></p>
<hr />
<h3 id="oncollisionexit">onCollisionExit(...)<a class="headerlink" href="#oncollisionexit" title="Permanent link">&para;</a></h3>
<p>This function is called, if it exists in your script, when this object stops touching another <a href="../object">object</a>. The Global Script does not this event since it does not have a physical representation that can collide.</p>
<div class="admonition warning">
<p class="admonition-title">onCollisionExit(table collision_info)</p>
<ul>
<li><strong>table collision_info</strong>: A table containing data on exit-colliding object.<ul>
<li><strong>collision_info.<em>collision_object</em></strong> = <a href="../object">object</a> collision_object</li>
<li><strong>collision_info.<em>contact_points</em></strong> = table contact_points <span class="critic comment">This is an array (table) of tables. Each contact point is a vector.</span></li>
<li><strong>collision_info.<em>relative_velocity</em></strong> = <a href="../vector">vector</a></li>
</ul>
</li>
</ul>
</div>
<p><div class="codehilite"><pre><span></span>    <span class="c1">--Example Usage</span>
    <span class="kr">function</span> <span class="nf">onCollisionExit</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">collision_object</span><span class="p">)</span>
    <span class="kr">end</span>
</pre></div>
<div class="codehilite"><pre><span></span>    <span class="c1">--Example returned table</span>
    <span class="p">{</span>
        <span class="p">{</span>
            <span class="n">collision_object</span> <span class="o">=</span> <span class="n">objectReference</span>
            <span class="n">contact_points</span> <span class="o">=</span> <span class="p">{</span>
                <span class="p">{</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">},</span>
            <span class="p">}</span>
            <span class="n">relative_velocity</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div></p>
<hr />
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../assetbundle/" title="AssetBundle" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                AssetBundle
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.abd7b172.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>